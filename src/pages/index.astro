---
import Layout from "@/layouts/SimpleLayout.astro";
import { MenuName } from "@/components/navbar/WorkNavbar.astro";
import { socialLinks } from "@/types/ara";
import AraGradientText from "@/components/AraGradientText";
import {
  CheckmarkIcon,
  SettingsIcon,
  UserIcon,
  GraduateHatIcon,
  CheckmarkCircleIcon,
  LockIcon,
  BookIcon,
  WarningTriangleIcon,
  TelegramIcon,
  DiscordIcon,
  GitHubIcon,
  LinkedInIcon,
  TwitterIcon,
  BlueskyIcon,
} from "@/svg/index";
import DecorativeStarSeparator from "@/components/utilitified_decorations/DecorativeStarSeparator.astro";
import DecorativeSeparator from "@/components/utilitified_decorations/DecorativeSeparator.astro";
import IsometricFundingFlow from "@/components/diagrams/IsometricFundingFlow";
import AddProjectButton from "@/components/auth/AddProjectButton";
import AraLayerStack from "@/components/diagrams/AraLayerStack";
import OwnershipTransferDiagram from "@/components/diagrams/OwnershipTransferDiagram";
import TokenSupplyProgress from "@/components/diagrams/TokenSupplyProgress";
import Button from "@/components/custom-ui/Button";
import InfoItem from "@/components/utilitified_decorations/InfoItem";
import InfoCard, {
  Props as InfoCardProps,
} from "@/components/utilitified_decorations/InfoCard.astro";
import FAQ from "@/components/FAQ";

const solutions: InfoCardProps[] = [
  {
    icon: "üõ°Ô∏è",
    title: "Prevent Deprecation",
    description:
      "Vote to keep APIs you depend on alive. Stop breaking changes from blindsiding your team three sprints from now.",
  },
  {
    icon: "‚ö°",
    title: "Request Features",
    description:
      "Need TypeScript support? Better error handling? Move features from someday to funded and prioritized.",
  },
  {
    icon: "üéì",
    title: "Sponsor Mentorship",
    description:
      "Fund students to contribute under maintainer guidance. Build the next generation while getting real commits merged.",
  },
  {
    icon: "ü§ñ",
    title: "AI Customization",
    description:
      "Get a personalized AI interface trained on the project. Ask questions, generate examples, debug faster.",
  },
];
---

<Layout
  active={MenuName.ProjectList}
  hideLinks={Object.keys(MenuName)}
  projectName="Ara"
  initialZoom={100}
  minZoom={25}
  maxZoom={150}
  isStatic={true}
>
  <!-- Hero Section -->
  <section
    slot="hero"
    class="relative flex flex-col items-center justify-center min-h-[40vh] text-center px-4 pointer-events-auto"
    style="pointer-events: auto;"
  >
    <div class="w-full max-w-7xl mx-auto space-y-6">
      <div class="flex items-center justify-center gap-4 mb-6">
        <div class="text-5xl md:text-6xl lg:text-7xl font-bold">
          <AraGradientText client:only="react" className="font-bold" />
        </div>
      </div>

      <p
        class="text-2xl md:text-4xl text-slate-600 font-bold dark:text-slate-400 space-y-4"
      >
        to make user-owned software
      </p>

      <div class="flex flex-1 gap-4 justify-center">
        <Button outline={true}>Read Whitepaper</Button>
        <Button>Check your dependencies</Button>
      </div>
      <div>
        <p
          class="text-xl md:text-2xl text-slate-600 dark:text-slate-400 space-y-4"
        >
          Scan your project now to see if any dependencies have deprecated
          functionality lurking in your stack.
        </p>
        <p>Stop watching them break, shape the tools you actually use.</p>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <div slot="center" class="w-full max-w-6xl mx-auto px-4">
    <DecorativeStarSeparator />

    <!-- What's the problem? -->
    <section id="ara-layer-section" class="space-y-8 mt-8">
      <h3
        class="text-3xl md:text-4xl text-slate-800 dark:text-slate-200 text-center mb-8"
      >
        Why not have a say?
      </h3>

      <div class="flex flex-col md:flex-row gap-8 items-start">
        <div class="space-y-2">
          <p class="text-lg md:text-xl text-slate-700 dark:text-slate-300">
            You're a using OSS libraries on your production code. You are
            trusting npm packages you didn't write.<br />
            You've watched
          </p>
          <ul
            class="space-y-4 text-slate-700 dark:text-slate-300 flex flex-row gap-3 mt-4"
          >
            <li class="flex items-start gap-1">
              <CheckmarkIcon
                className="text-red-500/50 dark:text-red-400 mt-0.5 flex-shrink-0 w-5 h-5"
              />
              <span> some of them go stale, </span>
            </li>
            <li class="flex items-start gap-1">
              <CheckmarkIcon
                className="text-red-500/50 dark:text-red-400 mt-0.5 flex-shrink-0 w-5 h-5"
              />
              <span>APIs get deprecated,</span>
            </li>
            <li class="flex items-start gap-1">
              <CheckmarkIcon
                className="text-red-500/50 dark:text-red-400 mt-0.5 flex-shrink-0 w-5 h-5"
              />
              <span>Upgrades break your code,</span>
            </li>
            <li class="flex items-start gap-1">
              <CheckmarkIcon
                className="text-red-500/50 dark:text-red-400 mt-0.5 flex-shrink-0 w-5 h-5"
              />
              <span>and critical features gather dust in issue trackers.</span>
            </li>
          </ul>
          <p class="text-lg md:text-xl text-slate-700 dark:text-slate-300">
            You know the problem: <strong
              >open source is free, but maintaining high-quality code isn't
              guaranteed.</strong
            >
          </p>
        </div>
      </div>
      <!-- Issues Items -->
      <div class="my-12">
        <div class="grid md:grid-cols-3 gap-8 md:gap-10">
          <InfoItem
            value={0.84}
            format={{ style: "percent", maximumFractionDigits: 0 }}
            description="of companies depend on OSS they don't fund"
          />
          <InfoItem
            value={0.67}
            format={{ style: "percent", maximumFractionDigits: 0 }}
            description="of critical packages are maintained by 1-2 people"
          />
          <InfoItem
            value={0.0}
            format={{
              style: "currency",
              currency: "USD",
              maximumFractionDigits: 0,
            }}
            description="average contribution per company using OSS"
          />
        </div>
      </div>
    </section>

    <DecorativeStarSeparator />

    <!-- What's the solution? -->
    <section id="ara-layer-section" class="space-y-8 mt-8">
      <h3 class="text-3xl md:text-4xl text-slate-800 dark:text-slate-200 mb-8">
        Pay for what you use.<br />
        Direct where it goes.<br />
        Create unified AI interface for open-source.
      </h3>

      <div class="flex flex-col md:flex-row gap-8 items-start">
        <div class="space-y-2">
          <p class="text-lg md:text-xl text-slate-700 dark:text-slate-300">
            Ara isn't another GitHub Sponsors link gathering dust. It's a direct
            line between your engineering needs and maintainer capacity. Monthly
            funding gets you real influence over roadmaps, not just warm
            feelings.
          </p>
        </div>
      </div>
      <!-- Benefits Cards -->
      <div class="mt-12">
        <div class="grid md:grid-cols-4 gap-8 md:gap-10">
          {solutions.map((solution) => <InfoCard {...solution} />)}
        </div>
      </div>

      <!-- Decorative separator -->

      <!-- Two Rules Section -->
      <section id="two-rules-section" class="space-y-12 my-16">
        <DecorativeStarSeparator />
        <h3
          class="text-3xl md:text-4xl text-slate-800 dark:text-slate-200 text-center mb-8"
        >
          Why this won't turn into vaporware
        </h3>

        <div class="trust-point">
          <h3
            class="text-lg md:text-xl font-semibold text-slate-800 dark:text-slate-200"
          >
            Transparent fund allocation
          </h3>
          <p>
            Every dollar tracked. See exactly where your funding goes, who it
            pays, and what gets built. Public ledger, zero handwaving.
          </p>
        </div>

        <div class="trust-point">
          <h3
            class="text-lg md:text-xl font-semibold text-slate-800 dark:text-slate-200"
          >
            Maintainers stay in control
          </h3>
          <p>
            This isn't corporate takeover disguised as sponsorship. Maintainers
            choose which funded requests to accept. You fund, they decide,
            everyone wins.
          </p>
        </div>

        <div class="trust-point">
          <h3
            class="text-lg md:text-xl font-semibold text-slate-800 dark:text-slate-200"
          >
            No lock-in, ever
          </h3>
          <p>
            Monthly funding. Cancel anytime. The code stays open source. Your
            influence is proportional to your support, period.
          </p>
        </div>

        <div class="trust-point">
          <h3
            class="text-lg md:text-xl font-semibold text-slate-800 dark:text-slate-200"
          >
            Built by people who ship code
          </h3>
          <p>
            Not VC-funded suits. Not well-meaning activists. Engineers who've
            dealt with unmaintained dependencies and want to fix the incentive
            structure.
          </p>
        </div>
      </section>

      <!-- Decorative separator -->
      <DecorativeStarSeparator />

      <!-- FAQ Section -->
      <section id="faq-section" class="space-y-8 mt-8">
        <h3
          class="text-3xl md:text-4xl text-slate-800 dark:text-slate-200 text-center mb-8"
        >
          Questions skeptics ask
        </h3>
        <FAQ client:only="react" />
      </section>

      <!-- Decorative separator -->
      <DecorativeSeparator />

      <!-- Footer CTA Section -->
      <section id="footer-cta-section" class="text-center space-y-6">
        <p class="text-lg md:text-xl text-slate-600 dark:text-slate-400">
          For maintainers ‚Ä¢ users ‚Ä¢ people learning programming
        </p>
        <h2 class="text-3xl md:text-4xl text-slate-800 dark:text-slate-200">
          Stop hoping your dependencies survive.<br />
          Start ensuring they do.
        </h2>
        <div class="flex justify-center">
          <AddProjectButton client:only="react" />
        </div>
      </section>

      <!-- Social Links -->
      <section class="text-center space-y-4">
        <p class="text-lg text-slate-600 dark:text-slate-400 mt-2">
          Also, let's stay connected!
        </p>
        <div class="flex items-center justify-center gap-6 flex-wrap">
          {
            Object.values(socialLinks).map((link) => (
              <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class="p-3 rounded-lg backdrop-blur-md bg-white/30 dark:bg-slate-900/30 border border-slate-200/40 dark:border-slate-700/40 hover:bg-white/40 dark:hover:bg-slate-900/40 transition-all"
                aria-label={link.label}
              >
                {link.type === "telegram" ? (
                  <TelegramIcon class="text-[#0088cc]" />
                ) : link.type === "discord" ? (
                  <DiscordIcon class="text-[#5865F2]" />
                ) : link.type === "github" ? (
                  <GitHubIcon class="text-slate-800 dark:text-slate-200" />
                ) : link.type === "linkedin" ? (
                  <LinkedInIcon class="text-[#0077B5]" />
                ) : link.type === "twitter" ? (
                  <TwitterIcon class="text-blue-500" />
                ) : link.type === "bluesky" ? (
                  <BlueskyIcon class="text-[#00A3FF]" />
                ) : null}
              </a>
            ))
          }
        </div>
      </section>

      <!-- Notice Section -->
      <section class="text-center space-y-4 mt-8">
        <div
          class="backdrop-blur-md bg-white/30 dark:bg-slate-900/30 border border-slate-300/40 dark:border-slate-700/40 rounded-xl p-6 max-w-2xl mx-auto"
        >
          <p class="text-base md:text-lg text-slate-700 dark:text-slate-300">
            Ara is currently a solo-dev work. More about me is on{" "}
            <a
              href="/people"
              class="text-blue-600 dark:text-blue-400 hover:underline font-semibold"
            >
              /people
            </a>
            .
          </p>
        </div>
      </section>
    </section>
  </div>

  <style is:global>
    @keyframes scan {
      0% {
        transform: translateY(-100%);
      }
      100% {
        transform: translateY(100%);
      }
    }
    @keyframes shimmer {
      0% {
        background-position: -200% 0;
      }
      100% {
        background-position: 200% 0;
      }
    }
    @keyframes pulse {
      0%,
      100% {
        opacity: 0;
        transform: scale(0.8);
      }
      50% {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes pulse-subtle {
      0%,
      100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.95;
        transform: scale(1.01);
      }
    }
    .animate-pulse-subtle {
      animation: pulse-subtle 3s ease-in-out infinite;
    }
    html {
      scroll-behavior: smooth;
    }

    body {
      overflow-x: hidden;
      overflow-y: auto;
    }

    /* Ensure galaxy background doesn't move - disable all transforms */
    [data-galaxy-backgrounds] {
      transform: none !important;
      will-change: auto !important;
    }

    .event-notification {
      animation: pulse 2s ease-in-out infinite;
    }

    /* Hide scrollbar for horizontal scroll */
    .scrollbar-hide {
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
    }

    .scrollbar-hide::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }

    /* Ensure video panel and hero section are clickable */
    [data-landing-video-panel] {
      pointer-events: auto !important;
    }

    section[slot="hero"] {
      pointer-events: auto !important;
    }

    .trust-point {
      margin-bottom: 32px;
      padding-left: 32px;
      position: relative;
    }

    .trust-point::before {
      content: "‚úì";
      position: absolute;
      left: 0;
      color: #22c55e;
      font-weight: 700;
      font-size: 1.5rem;
    }
  </style>
</Layout>
